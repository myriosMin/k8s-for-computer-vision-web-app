{% extends "base.html" %}
{% block content %}
<div class="max-w-5xl mx-auto">
  <h1 class="text-3xl font-semibold text-white mb-6">Data Loading & Training</h1>

  <!-- Batch Upload -->
  <form class="border border-slate-700 rounded-lg p-6 bg-slate-800 shadow-sm hover:shadow-md transition" 
        action="/upload-batch" method="post" enctype="multipart/form-data">
    <label class="block mb-3 text-sm font-medium text-slate-300">Batch upload (drag & drop or select files)</label>
    <input class="w-full border border-slate-600 p-2 bg-slate-900 text-slate-100 rounded" type="file" name="files" multiple />
    <button class="mt-4 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded" type="submit">
      Upload
    </button>
  </form>

  <!-- Configuration + Results -->
  <div class="grid md:grid-cols-2 gap-6 mt-8">
    <!-- Model Config -->
    <form class="border border-slate-700 rounded-lg p-6 bg-slate-800 shadow-sm hover:shadow-md transition">
      <h2 class="text-xl font-semibold text-white mb-4">Model Configuration</h2>

      <label class="block text-sm text-slate-400 mb-1">YOLO model</label>
      <select class="border border-slate-600 p-2 w-full bg-slate-900 text-white rounded mb-4">
        <option>yolo11n-seg.pt</option>
        <option>yolo11m-seg.pt</option>
        <option>yolo11l-seg.pt</option>
      </select>

      <label class="block text-sm text-slate-400 mb-1">Image Size (imgsz)</label>
      <input class="border border-slate-600 p-2 w-full bg-slate-900 text-white rounded mb-4" 
             type="number" name="imgsz" value="1024" />

      <label class="block text-sm text-slate-400 mb-1">Epochs</label>
      <input class="border border-slate-600 p-2 w-full bg-slate-900 text-white rounded mb-6" 
             type="number" name="epochs" value="10" />

      <div class="flex flex-wrap gap-3">
        <button formaction="/trigger-preprocess" formmethod="post" 
                class="px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded">
          Run Preprocess
        </button>
        <button formaction="/trigger-train" formmethod="post" 
                class="px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded">
          Start Training
        </button>
      </div>
    </form>

    <!-- Results -->
    <div class="border border-slate-700 rounded-lg p-6 bg-slate-800 shadow-sm">
      <h2 class="text-xl font-semibold text-white mb-4">Latest Results / Metrics</h2>
      <div id="metrics" class="text-sm text-slate-400">
        Train logs & mAP/PR curves will be written under <code class="text-slate-300">/models/runs</code>; surface them here later.
      </div>
    </div>
  </div>
</div>
{% endblock %}